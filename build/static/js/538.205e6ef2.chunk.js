"use strict";(self.webpackChunkvsa_website=self.webpackChunkvsa_website||[]).push([[538],{1033:(e,t,s)=>{s.d(t,{s:()=>n});var a=s(9950);function n(e){let{title:t}=e;return(0,a.useEffect)((()=>(document.title="VSA - ".concat(t),()=>{document.title="VSA"})),[t]),null}},4158:(e,t,s)=>{s.d(t,{L:()=>r});var a=s(1920),n=s(2348);function r(){const{data:e=[],isLoading:t,error:s,refetch:r}=(0,a.useQuery)({queryKey:["events"],queryFn:async()=>{const{data:e,error:t}=await n.N.from("events").select("*").order("date",{ascending:!0});if(t)throw t;return e},staleTime:3e5});return{events:e,loading:t,error:s,refreshEvents:r}}},7196:(e,t,s)=>{s.d(t,{T:()=>r});s(9950);var a=s(1132),n=s(4414);const r=e=>{let{children:t}=e;return(0,n.jsx)(a.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},children:t})}},7538:(e,t,s)=>{s.r(t),s.d(t,{Events:()=>m});var a=s(9950),n=s(2080),r=s(4414);function l(e){let{isOpen:t,onClose:s,onConfirm:a,title:n,message:l,confirmText:i="Confirm",cancelText:d="Cancel"}=e;return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 max-w-md w-full mx-4",children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-4 text-gray-900 dark:text-white",children:n}),(0,r.jsx)("p",{className:"text-gray-700 dark:text-gray-200 mb-6",children:l}),(0,r.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,r.jsx)("button",{onClick:s,className:"px-4 py-2 text-gray-700 dark:text-gray-200 hover:text-gray-900 dark:hover:text-white transition-colors duration-200",children:d}),(0,r.jsx)("button",{onClick:()=>{a(),s()},className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 transition-colors duration-200",children:i})]})]})}):null}function i(e){let{targetDate:t,onComplete:s}=e;const[n,l]=(0,a.useState)({days:0,hours:0,minutes:0,seconds:0,isComplete:!1});return(0,a.useEffect)((()=>{const e=()=>{const e=t.getTime()-(new Date).getTime();if(e<=0)return l({days:0,hours:0,minutes:0,seconds:0,isComplete:!0}),void(null===s||void 0===s||s());const a=Math.floor(e/864e5),n=Math.floor(e/36e5%24),r=Math.floor(e/1e3/60%60),i=Math.floor(e/1e3%60);l({days:a,hours:n,minutes:r,seconds:i,isComplete:!1})};e();const a=setInterval(e,1e3);return()=>clearInterval(a)}),[t,s]),n.isComplete?(0,r.jsx)("div",{className:"text-red-400 text-sm font-medium",children:"Event has started!"}):(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[n.days>0&&(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("span",{className:"text-2xl font-bold text-indigo-400",children:n.days}),(0,r.jsx)("span",{className:"text-xs text-gray-400",children:"days"})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("span",{className:"text-2xl font-bold text-indigo-400",children:n.hours.toString().padStart(2,"0")}),(0,r.jsx)("span",{className:"text-xs text-gray-400",children:"hours"})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("span",{className:"text-2xl font-bold text-indigo-400",children:n.minutes.toString().padStart(2,"0")}),(0,r.jsx)("span",{className:"text-xs text-gray-400",children:"min"})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("span",{className:"text-2xl font-bold text-indigo-400",children:n.seconds.toString().padStart(2,"0")}),(0,r.jsx)("span",{className:"text-xs text-gray-400",children:"sec"})]})]})}function d(e){let{event:t,onCheckIn:s}=e;const[d,c]=(0,a.useState)(!1);let o="",x=!1;if(t.date){const e=new Date(t.date);isNaN(e.getTime())||(o=(0,n.A)(e,"MMMM d, yyyy"),x=e>new Date)}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"bg-gray-800 rounded-lg shadow-xl p-6",children:[t.image_url&&(0,r.jsx)("img",{src:t.image_url,alt:t.name,className:"w-full h-48 object-cover rounded-md mb-4"}),(0,r.jsx)("h3",{className:"text-xl font-semibold mb-2 text-white",children:t.name}),(0,r.jsx)("p",{className:"text-gray-300 mb-4",children:t.description}),(0,r.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-gray-400",children:o||"Date TBD"}),(0,r.jsx)("p",{className:"text-sm text-gray-400",children:t.location})]}),(0,r.jsxs)("button",{onClick:()=>c(!0),className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200 flex items-center space-x-2",disabled:!t.date,children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),(0,r.jsx)("span",{children:"Save to Calendar"})]})]}),x&&t.date&&(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("p",{className:"text-sm text-gray-400 mb-2",children:"Event starts in:"}),(0,r.jsx)(i,{targetDate:new Date(t.date),onComplete:()=>{console.log("Event has started!")}})]})]})]}),(0,r.jsx)(l,{isOpen:d,onClose:()=>c(!1),onConfirm:()=>{if(!t.date)return;const e=new Date(t.date),s=new Date(e.getTime()+72e5),a=e=>e.toISOString().replace(/-|:|\.\d+/g,""),n=new URL("https://calendar.google.com/calendar/render");n.searchParams.append("action","TEMPLATE"),n.searchParams.append("text",t.name),n.searchParams.append("dates","".concat(a(e),"/").concat(a(s))),n.searchParams.append("details",t.description),n.searchParams.append("location",t.location||""),window.open(n.toString(),"_blank")},title:"Add to Calendar",message:'Would you like to add "'.concat(t.name,'" to your Google Calendar?'),confirmText:"Add to Calendar",cancelText:"Cancel"})]})}var c=s(4158),o=s(1033),x=s(7196);function m(){const{events:e,loading:t,error:s}=(0,c.L)(),a=new Date,n=new Date(a.getTime()-864e5),l=e.filter((e=>new Date(e.date)>=n)).sort(((e,t)=>new Date(e.date).getTime()-new Date(t.date).getTime())),i=e.filter((e=>new Date(e.date)<n)).sort(((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()));return t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.s,{title:"Events"}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold mb-6 text-white",children:"Events"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Loading events..."})]})]}):s?(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold mb-6 text-white",children:"Events"}),(0,r.jsxs)("p",{className:"text-red-400",children:["Error loading events: ",s instanceof Error?s.message:"Unknown error"]})]}):(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8 bg-gray-50 text-gray-900 dark:bg-gray-950 dark:text-white transition-colors duration-300",children:[(0,r.jsxs)("div",{className:"mb-12 bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-white",children:["Upcoming Events (",l.length,")"]}),(0,r.jsxs)("p",{className:"mb-6 text-gray-600 dark:text-gray-400",children:[l.length," event",1!==l.length?"s":""," coming up"]}),0===l.length?(0,r.jsx)(x.T,{children:(0,r.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-700 shadow rounded-lg p-6",children:[(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"No upcoming events at this time."}),(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Check back soon for new events!"})]})}):(0,r.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:l.map((e=>(0,r.jsx)(x.T,{children:(0,r.jsx)(d,{event:e,onCheckIn:()=>{console.log("Checking in to event:",e.id)}})},e.id)))})]}),(0,r.jsx)("div",{className:"border-t border-gray-200 dark:border-gray-700 my-12"}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold mb-4 text-gray-900 dark:text-white",children:["Past Events (",i.length,")"]}),(0,r.jsxs)("p",{className:"mb-6 text-gray-600 dark:text-gray-400",children:[i.length," event",1!==i.length?"s":""," in the past"]}),0===i.length?(0,r.jsx)(x.T,{children:(0,r.jsx)("div",{className:"bg-gray-100 dark:bg-gray-700 shadow rounded-lg p-6",children:(0,r.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"No past events yet."})})}):(0,r.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:i.map((e=>(0,r.jsx)(x.T,{children:(0,r.jsx)(d,{event:e,onCheckIn:()=>{console.log("Checking in to event:",e.id)}})},e.id)))})]})]})}}}]);